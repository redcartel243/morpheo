# Morpheo - AI-Driven UI Generation Framework

Morpheo is an experimental framework designed to empower Large Language Models (LLMs) like Google's Gemini Pro to dynamically generate web application UIs using React and Chakra UI v3 based on natural language prompts.

**The core principle of Morpheo is: No Hardcoded Domain-Specific Logic.** The framework provides generic components and patterns, but all application-specific behavior, component selection, configuration, and interaction logic must be determined and generated by the AI.

## Core Principles

Morpheo development adheres to the following fundamental principles:

1.  **AI-Driven Generation**: The AI analyzes requests, determines the required UI structure and behavior, selects appropriate Chakra UI components, and generates React functional component code incorporating necessary logic and state management.
2.  **Generic Component System**: The framework *itself* aims to be generic, providing the infrastructure for the AI to build upon. The AI is instructed to use standard, versatile Chakra UI components rather than creating domain-specific ones (e.g., no `WeatherWidget` or `BitcoinChart`).
3.  **Pattern-Based Development**: Focus is on teaching the AI reusable *patterns* for building UIs (using Chakra UI), handling state (using React Hooks), and managing interactions, rather than implementing specific features directly into the framework.
4.  **Flexibility & AI Creativity**: The framework aims to provide tools and guidance to the AI without unnecessarily constraining its ability to generate novel solutions within the React/Chakra UI paradigm.

## How it Works

1.  **User Prompt**: A user provides a natural language description of the desired UI or functionality.
2.  **AI Interaction (Generation)**: The Morpheo frontend sends the prompt to the backend API.
3.  **Backend Processing**: The Python/FastAPI backend constructs a detailed prompt (using `gemini_prompt_template.md`) instructing the LLM (Gemini Pro) to generate a complete React functional component using Chakra UI v3 and standard React hooks.
4.  **AI Code Generation**: The LLM returns the generated React component code as a string.
5.  **Frontend Rendering (Preview)**: The frontend receives the code string, stores it in the Redux state, and uses `AppViewer` (which utilizes `react-live`) to render a live preview.
6.  **User Refinement (Modification)**: The user can provide follow-up prompts in the preview screen to modify the generated component.
7.  **AI Interaction (Modification)**: The frontend sends the modification prompt and the current component code string to the backend.
8.  **Backend Processing (Modification)**: The backend constructs a new prompt instructing the LLM to modify the existing code based on the user's request.
9.  **AI Code Modification**: The LLM returns the complete, modified React component code string.
10. **Frontend Update**: The frontend receives the modified code, updates the Redux state, and the `AppViewer` re-renders the preview.
11. **Code Access**: The user can view and copy the final, clean generated React code from the preview screen.

## Tech Stack

*   **Frontend**: React, Redux Toolkit, Chakra UI v3, TypeScript, `react-live` (for preview via `AppViewer`).
*   **Backend**: Python, FastAPI, `google-generativeai` (Gemini API).
*   **AI Model**: Google Gemini Pro (specifically `gemini-1.5-pro-latest` or `gemini-1.5-flash`).
*   **Hosting/Backend (Optional)**: Firebase can be used for hosting/auth if desired, but the core backend logic resides in the FastAPI application.

## Development Philosophy

Development efforts focus on:

*   Improving the prompts and context provided to the AI to generate higher-quality, more functional React/Chakra UI components.
*   Enhancing the preview and modification workflow.
*   Refining the generic patterns the AI is taught.
*   **Strictly avoiding** the introduction of any domain-specific logic or non-Chakra UI components into the core framework or generation process.

## Project Structure

*   **backend/**: Contains the FastAPI application, AI interaction service (`components/service.py`), API endpoints (`main.py`), and AI prompt templates (`gemini_prompt_template.md`).
*   **frontend-new/**: Contains the React frontend application.
    *   `src/components/`: UI components for the Morpheo application itself (generator UI, preview UI, viewer, etc.).
    *   `src/store/`: Redux Toolkit store, slices (e.g., `uiSlice.ts`), and related logic.
    *   `src/services/`: Frontend services for interacting with the backend API (e.g., `appGenerationService.ts`).
    *   `src/pages/`: Top-level page components.
    *   `public/`: Static assets.
*   **implementation_plan.md**: Document outlining feature development plans.
*   **(Other configuration files)**: `package.json`, `tsconfig.json`, `.env`, etc.

## Getting Started

### Prerequisites

*   Node.js (e.g., v18+, check Chakra UI v3 docs for specific requirements like v20.x)
*   Python (e.g., 3.9+)
*   `pip` (Python package installer)
*   Access to a Google AI API key (for Gemini Pro)
*   Firebase account (optional, if using for hosting/auth)

### Installation & Setup

1.  **Clone the repository:**
    ```bash
    git clone <repository-url> # Replace with your repo URL
    cd morpheo
    ```
2.  **Setup Backend:**
    *   Navigate to the backend directory: `cd backend`
    *   Create a virtual environment (recommended): `python -m venv venv`
    *   Activate the virtual environment:
        *   Windows: `.\venv\Scripts\activate`
        *   macOS/Linux: `source venv/bin/activate`
    *   Install Python dependencies: `pip install -r requirements.txt` (You might need to create this file based on imports in `main.py` and `service.py`: `fastapi`, `uvicorn`, `python-dotenv`, `google-generativeai`, `passlib[bcrypt]`, `python-jose[cryptography]`, `openai` if still used, etc.)
    *   Configure backend environment variables:
        *   Create a `.env` file in the `backend` directory.
        *   Add your Google AI API key: `GOOGLE_API_KEY=your_google_api_key`
        *   Set a `SECRET_KEY` for JWT: `SECRET_KEY=a_very_secure_random_string`
        *   Set test user credentials (optional, defaults are used): `TEST_USERNAME=testuser`, `TEST_PASSWORD=defaulttestpass`

3.  **Setup Frontend:**
    *   Navigate to the frontend directory: `cd ../frontend-new`
    *   Install dependencies: `npm install`
    *   Configure frontend environment variables:
        *   Create a `.env` file in the `frontend-new` directory.
        *   Set the backend API URL: `REACT_APP_API_URL=http://localhost:8000` (or your backend address)
        *   (Optional) Add Firebase configuration variables if using Firebase.

### Running Locally

1.  **Start the Backend Server:**
    *   Open a terminal in the `backend` directory (with the virtual environment activated).
    *   Run: `uvicorn main:app --reload --host 0.0.0.0 --port 8000`
2.  **Start the Frontend Development Server:**
    *   Open a *separate* terminal in the `frontend-new` directory.
    *   Run: `npm start`
3.  **Access the Application:**
    *   Open your browser to `http://localhost:3000` (or the port specified by the React development server).

## Contributing

Contributions that align with the core principles (enhancing generic capabilities, improving AI interaction, refining patterns for React/Chakra UI generation) are welcome. Please avoid submitting features that introduce domain-specific logic or deviate from the AI-driven generation approach.

## License

MIT License. 