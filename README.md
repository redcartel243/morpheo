# Morpheo â€“ AI-Driven Dynamic UI Generation Framework

Morpheo is an experimental, AI-powered framework that enables Large Language Models (LLMs) like Google Gemini Pro to dynamically generate, modify, and preview web application UIs from natural language prompts. The system is designed to be **domain-agnostic**: all application-specific logic, component selection, and UI behavior are determined by the AI, not hardcoded by developers.

---

## Core Principles

- **No Hardcoded Domain Logic:**  
  All domain-specific behavior is generated by the AI. The framework provides only generic, reusable components and patterns.
- **AI-Driven Generation:**  
  The AI receives detailed prompt templates and returns complete, functional UI code (React/Chakra UI or HTML/JS) based on user requests.
- **Pattern-Based Development:**  
  The system teaches the AI reusable UI, state, and interaction patterns, not specific solutions.
- **Flexibility & Creativity:**  
  The AI is encouraged to use standard, versatile components and external libraries (e.g., Three.js) for complex tasks, with no restrictions except for domain-specific hardcoding.

---

## How It Works

1. **User Prompt:**  
   The user describes the desired UI or functionality in natural language.
2. **AI Generation:**  
   The frontend sends the prompt (and optionally uploaded files) to the backend.
3. **Prompt Engineering:**  
   The backend constructs a detailed prompt (see `gemini_prompt_template.md`) for the LLM, specifying requirements (e.g., no placeholders, use of external JS libraries, responsive design).
4. **AI Code Generation:**  
   The LLM returns a complete code string (React/Chakra UI or HTML/JS).
5. **Live Preview:**  
   The frontend stores the code and renders a real-time preview using a secure iframe or `react-live` (for React code).
6. **Modification Loop:**  
   Users can iteratively refine the UI by submitting modification prompts; the AI receives the current code and the new request, returning an updated code string.
7. **Code Access:**  
   Users can view and copy the final generated code.

---

## Features

- **AI-powered UI generation and modification**
- **Real-time preview system** with desktop, mobile, and freeform (draggable/resizable) modes
- **Support for external JS libraries** (e.g., Three.js, Chart.js) via import maps and CDNs
- **File upload support** for context-aware UI generation
- **Redux-based state management**
- **Authentication and persistence** (optional, via Firebase)
- **Dark/light mode support**
- **Strict separation of generic framework and AI-generated domain logic**

---

## Tech Stack

- **Frontend:** React, Redux Toolkit, Chakra UI v3, TypeScript, `react-live` (for React preview), iframe-based HTML preview
- **Backend:** Python, FastAPI, Google Gemini API (`google-generativeai`)
- **AI Model:** Google Gemini Pro (`gemini-1.5-pro-latest` or `gemini-1.5-flash`)
- **Optional:** Firebase for hosting/auth

---

## Project Structure

```
morpheo/
  backend/           # FastAPI backend, AI prompt templates, API endpoints
    components/
    modules/
    prompts/
    ...
    gemini_prompt_template.md
    requirements.txt
  frontend-new/      # React frontend
    src/
      components/    # App UI, preview, generator, etc.
      store/         # Redux slices (uiSlice, authSlice, etc.)
      services/      # API and AI service abstraction
      pages/         # Top-level page components
      examples/      # Example components and patterns
      ...
    public/
    ...
  README.md
  implementation_plan.md
```

---

## Real-Time Preview System

- **Modes:** Desktop, mobile, and freeform (draggable/resizable) preview
- **Rendering:** Uses secure iframes for HTML/JS, and `react-live` for React/Chakra UI code
- **Freeform Mode:** Allows users to drag and resize the preview area, simulating any device size
- **Dynamic Height:** AI-generated UIs are required to send resize messages for accurate preview

---

## AI Prompt Engineering

- **Prompt templates** strictly require:
  - No placeholders or excuses for complexity
  - Use of external JS libraries for advanced features (via import maps and reliable CDNs)
  - Responsive, accessible design (Tailwind/DaisyUI or Chakra UI v3)
  - Complete, runnable code (HTML/JS or React/Chakra UI)
- **Modification prompts** allow iterative refinement of generated UIs

---

## Development Safeguards

- **All components must be generic and reusable** (see `morpheo-cursor-rules.mdc`)
- **No domain-specific logic** is allowed in the codebase
- **Prompt engineering** is continuously improved to maximize AI output quality and flexibility
- **Testing** focuses on generic patterns, not specific use cases

---

## Getting Started

### Prerequisites

- Node.js (v18+ recommended)
- Python 3.9+
- `pip` (Python package installer)
- Google AI API key (for Gemini Pro)
- Firebase account (optional, for hosting/auth)

### Installation & Setup

1. **Clone the repository:**
   ```bash
   git clone <repository-url>
   cd morpheo
   ```

2. **Backend Setup:**
   ```bash
   cd backend
   python -m venv venv
   # Activate venv (Windows: .\venv\Scripts\activate, macOS/Linux: source venv/bin/activate)
   pip install -r requirements.txt
   # Create .env with GOOGLE_API_KEY, SECRET_KEY, etc.
   ```

3. **Frontend Setup:**
   ```bash
   cd ../frontend-new
   npm install
   # Create .env with REACT_APP_API_URL, Firebase config, etc.
   ```

### Running Locally

- **Backend:**  
  `uvicorn main:app --reload --host 0.0.0.0 --port 8000`
- **Frontend:**  
  `npm start` (in `frontend-new`)
- **Access:**  
  Open [http://localhost:3000](http://localhost:3000)

---

## Code Organization

- **`src/components/ui`**: Core UI building blocks (generic, not domain-specific)
- **`src/components/preview`**: Real-time preview system (desktop, mobile, freeform)
- **`src/store/slices`**: Redux slices for UI, auth, theme, etc.
- **`src/services`**: API and AI service abstraction
- **`src/examples`**: Example components and patterns (see also `archive/` for deprecated approaches)

---

## Contributing

Contributions are welcome if they:
- Enhance generic capabilities
- Improve AI interaction or prompt engineering
- Refine patterns for React/Chakra UI or HTML/JS generation
- **Do not** introduce domain-specific logic or hardcoded use cases

---

## Known Issues

- Some external CDN libraries (e.g., fireworks-js) may occasionally fail to load due to upstream changes. If a preview appears blank, check the browser console for 404 or import errors.
- The AI is required to generate complete, runnable code, but edge cases may still occur; prompt engineering is continuously improved.

---

## License

MIT License

---

**For more details, see the `morpheo-cursor-rules.mdc` and `gemini_prompt_template.md` for the full AI prompt engineering strategy and development rules.** 